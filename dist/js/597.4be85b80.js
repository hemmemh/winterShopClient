"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[597],{6124:function(e,l,a){a.d(l,{Z:function(){return c}});var n=a(3396);const i={class:"MyFile"};function t(e,l,a,t,u,s){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("input",{ref:"inputRef",type:"file",onChange:l[0]||(l[0]=(...e)=>s.setValue&&s.setValue(...e))},null,544),(0,n._)("div",{onClick:l[1]||(l[1]=e=>t.inputRef.click()),class:"Myfile__slot"},[(0,n.WI)(e.$slots,"default")])])}var u=a(4870),s={setup(){return{inputRef:(0,u.iH)(null)}},methods:{setValue(e){this.$emit("fileClick",e.target.files)}}},d=a(89);const o=(0,d.Z)(s,[["render",t]]);var c=o},7597:function(e,l,a){a.r(l),a.d(l,{default:function(){return w}});var n=a(3396),i=a(52),t=a(6124),u=a(7200),s=a(5079);async function d(e,l){const a=new FormData;a.append("name",e),a.append("image",l),await(0,s.Z$)(a)}var o=a(4870),c=a(5565);const m={class:"Admin__modal modal-admin"},r=(0,n._)("div",{class:"modal-admin__name"},"Добавить тип",-1),v={class:"modal-admin__addImage"},_={class:"modal-admin__imageCover"},f={key:0,class:"modal-admin__image"},p=["src"];var g={__name:"TypeModal",setup(e){const l=(0,o.iH)(null),a=(0,o.iH)(null),s=(0,o.iH)(""),g=e=>{const n=new FileReader;l.value=e[0],n.readAsDataURL(e[0]),n.onloadend=()=>{a.value=n.result}},k=()=>{d(s.value,l.value).then((()=>{s.value="",l.value=null,a.value=null,c.Z.commit("admin/setModal",!1)})).catch((e=>{console.log(e)}))};return(e,l)=>((0,n.wg)(),(0,n.iD)("div",m,[r,(0,n.Wm)(u.Z,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),inputClass:"admin",placeholder:"*имя типа",placeholderOn:!0},null,8,["modelValue"]),(0,n._)("div",v,[(0,n.Wm)(t.Z,{onFileClick:g},{default:(0,n.w5)((()=>[(0,n.Wm)(i.Z,{className:"login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить изображение для типа")])),_:1})])),_:1}),(0,n._)("div",_,[a.value?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("img",{src:a.value,alt:""},null,8,p)])):(0,n.kq)("",!0)])]),(0,n.Wm)(i.Z,{onClick:k,className:"login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить")])),_:1})]))}};const k=g;var w=k}}]);
//# sourceMappingURL=597.4be85b80.js.map